@model IEnumerable<O_O.Models.post>

@{
    ViewBag.Title = "Blog";
    int page = ViewBag.pageNum;
    int numPosts = ViewBag.numPosts;
    int pageSize = ViewBag.pageSize;
}
@section head {
<link rel="Stylesheet" href="../../Content/sh_the.min.css" />
<link rel="Stylesheet" href="../../Content/blog.css" />
<script type="text/javascript" src="../../Scripts/sh_main.min.js"></script>

<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
}

<ul id="icons">
    <li>
        <img class="clickit" alt="rss" title="View My Rss Feed URL" src="@Url.Content("~/Content/Images/rss.gif")" />
        <div class="rss dropdown">
            Copy the URL below into your RSS reader <br />
            <input value="http://@Request.Url.Host/Blog/RSS" />
        </div>
    </li>
    <li>
        <img class="clickit Stack" src="@Url.Content("~/Content/Images/so.png")" alt="Stack Overflow Logo" title="View My Stack Overflow Activity" style="width:40px"/>
        <div class="dropdown">
            <div id="SOActivity"></div>
            <a href="http://stackoverflow.com/users/719312/thomas-shields">
                <img src="http://stackoverflow.com/users/flair/719312.png?theme=clean" width="208" height="58" alt="profile for Thomas Shields at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Thomas Shields at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
            </a>
        </div>
    </li>
    <li>
        <a href="https://github.com/thomas4g"><img class="clickit" src="@Url.Content("~/Content/Images/github.png")" alt="Github Logo" title="View My Projects on Github" style="width:40px"/></a>
        <div class="dropdown">
        </div>
    </li>

</ul>
@foreach (var item in Model)
{
        @Html.Partial("Post", item);
}
@if(page > 1) {
@(Html.ActionLink("« Previous", "Index", new { page = page - 1 }, new { @class = "previous" }))
}
@if (page * pageSize < numPosts)
{ 
@Html.ActionLink("Next »", "Index", new { page = page + 1 }, new { @class = "next" })
}
<script type="text/javascript">
    $(".clickit").click(function () {
        var guyToToggle = $(this).next();
        guyToToggle.slideToggle("fast");
        this.title.indexOf("Hide") !== -1 ? this.title = this.title.replace("Hide", "View") : this.title = this.title.replace("View", "Hide");
        $("#icons div.dropdown").not(guyToToggle).fadeOut("fast");

    });
    $(".Stack").click(function () {
        var el = document.getElementById("SOActivity");
        if (el.innerHTML === "") {
            $.get("../Blog/Stackoverflow", function (data) {
                el.innerHTML = data;
            });
        }
    });
    window.onload = function () {
        sh_highlightDocument('../../Scripts/', '.min.js');
    }
</script>
